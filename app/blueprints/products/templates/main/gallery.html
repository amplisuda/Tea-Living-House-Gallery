{% extends 'base.html' %}

{% block content %}
<div class="product-gallery">
    {% if products %}
        {% for product in products %}
        <div class="product-card">
            <div class="product-images">
                <div class="main-image">
                    {% set default_image = '/static/images/placeholder.jpg' %}
                    {% set image = product.image_url if product.image_url is defined and product.image_url else default_image %}

                    <img src="{{ image_url }}" alt="{{ product.name }}" class="product-img">
                </div>
            </div>
            <div class="product-info">
                <h2 class="product-name">{{ product.name | default('Unnamed Product') }}</h2>
                <p class="product-description">{{ product.description | default('No description available') }}</p>
                <a href="{{ url_for('products.product', product_id=product.id) }}" class="buy-button">Написать продавцу</a>
            </div>
        </div>
        {% endfor %}
    {% else %}
        <p>Нет доступных товаров.</p>
    {% endif %}
</div>
{% endblock %}